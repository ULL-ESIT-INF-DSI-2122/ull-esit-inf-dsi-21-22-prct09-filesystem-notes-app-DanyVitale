<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>prct09</title><meta name="description" content="Documentation for prct09"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">prct09</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1> prct09 </h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#práctica-9---aplicación-de-procesamiento-de-notas-de-texto" id="práctica-9---aplicación-de-procesamiento-de-notas-de-texto" style="color: inherit; text-decoration: none;">
  <h1>PRÁCTICA 9 - APLICACIÓN DE PROCESAMIENTO DE NOTAS DE TEXTO</h1>
</a>

<a href="#asignatura-desarrollo-de-sistemas-informáticos" id="asignatura-desarrollo-de-sistemas-informáticos" style="color: inherit; text-decoration: none;">
  <h3><em>ASIGNATURA:</em> Desarrollo de Sistemas Informáticos</h3>
</a>
<blockquote>
<p><strong>NOMBRE COMPLETO:</strong> DANIELE VITALE<br>ID ALU: ALU0101329017<br>E-MAIL: <a href="mailto:alu0101329017@ull.edu.es">alu0101329017@ull.edu.es</a><br>CURSO: 3ro Ingeniería Informática   </p>
</blockquote>
<p><a href="https://github.com/ULL-ESIT-INF-DSI-2122/ull-esit-inf-dsi-21-22-prct09-filesystem-notes-app-DanyVitale/actions/workflows/node.js.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2122/ull-esit-inf-dsi-21-22-prct09-filesystem-notes-app-DanyVitale/actions/workflows/node.js.yml/badge.svg" alt="Tests"></a>
<a href="https://github.com/ULL-ESIT-INF-DSI-2122/ull-esit-inf-dsi-21-22-prct09-filesystem-notes-app-DanyVitale/actions/workflows/coveralls.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2122/ull-esit-inf-dsi-21-22-prct09-filesystem-notes-app-DanyVitale/actions/workflows/coveralls.yml/badge.svg" alt="Coveralls"></a>
<a href="https://coveralls.io/github/ULL-ESIT-INF-DSI-2122/ull-esit-inf-dsi-21-22-prct09-filesystem-notes-app-DanyVitale?branch=master"><img src="https://coveralls.io/repos/github/ULL-ESIT-INF-DSI-2122/ull-esit-inf-dsi-21-22-prct09-filesystem-notes-app-DanyVitale/badge.svg?branch=master" alt="Coverage Status"></a>
<a href="https://sonarcloud.io/summary/new_code?id=ULL-ESIT-INF-DSI-2122_ull-esit-inf-dsi-21-22-prct09-filesystem-notes-app-DanyVitale"><img src="https://sonarcloud.io/api/project_badges/measure?project=ULL-ESIT-INF-DSI-2122_ull-esit-inf-dsi-21-22-prct09-filesystem-notes-app-DanyVitale&metric=alert_status" alt="Quality Gate Status"></a></p>

<a href="#índice" id="índice" style="color: inherit; text-decoration: none;">
  <h2><strong>ÍNDICE</strong></h2>
</a>
<ol>
<li><a href="#id1">INTRODUCCIÓN</a></li>
<li><a href="#id2">DESCRIPCIÓN</a></li>
<li><a href="#id3">ADD</a></li>
<li><a href="#id4">LIST</a></li>
<li><a href="#id5">READ</a></li>
<li><a href="#id6">DELETE</a></li>
<li><a href="#id7">EDIT</a></li>
<li><a href="#id8">CONCLUSIONES</a></li>
</ol>

<a href="#introducción" id="introducción" style="color: inherit; text-decoration: none;">
  <h1>INTRODUCCIÓN<a name="id1"></a></h1>
</a>
<p>La práctica consta de una aplicación que permite gestionar notas de texto en un sistema de archivos. En específico permite al usuario crear, leer, modificar y eliminar notas de texto.  </p>
<p>Antes de empezar hay que hacer una serie de tareas previas que comprenden lo siguiente:</p>
<ul>
<li><input checked="" disabled="" type="checkbox"> Aceptar la <a href="https://classroom.github.com/a/8yO8h5vy">asignación de GitHub Classroom</a> asociada a esta práctica.</li>
<li><input checked="" disabled="" type="checkbox"> Aprender a utilizar los paquetes <a href="https://www.npmjs.com/package/yargs">yargs</a> y <a href="https://www.npmjs.com/package/chalk">chalk</a></li>
<li><input checked="" disabled="" type="checkbox"> Familiarizarse con el <a href="https://nodejs.org/dist/latest-v18.x/docs/api/fs.html#synchronous-api">API síncrona proporcionada por Node.js para trabajar con el sistema de ficheros.</a></li>
</ul>

<a href="#descripción" id="descripción" style="color: inherit; text-decoration: none;">
  <h1>DESCRIPCIÓN<a name="id2"></a></h1>
</a>
<p>Como mencionado anteriormente, la aplicación permite gestionar notas de texto en un sistema de archivos. En específico permite al usuario crear, leer, modificar y eliminar notas de texto.
Lo primero fue crear una clase que representa una nota de texto en un fichero independiente llamado <code>note.ts</code> que se encuentra en el directorio <code>./Notas</code>.</p>
<pre><code class="language-typescript"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">Note</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-2">readonly</span><span class="hl-1"> </span><span class="hl-4">user</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">, </span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-4">title</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">, </span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-4">body</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">, </span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-4">color</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">  </span><span class="hl-5">// Code goes here...</span><br/>
</code></pre>
<p>La misma consta de los siguientes atributos:</p>
<ul>
<li><code>user</code>: nombre de usuario del creador de la nota.</li>
<li><code>title</code>: título de la nota.</li>
<li><code>body</code>: cuerpo de la nota.</li>
<li><code>color</code>: color de la nota.</li>
</ul>
<p>Los únicos métodos desarrollados son los correspondientes getters:</p>
<ul>
<li><code>getUser()</code>: devuelve el nombre de usuario del creador de la nota.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-6">getUser</span><span class="hl-1">(): </span><span class="hl-4">string</span><span class="hl-1"> { </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">user</span><span class="hl-1">; }</span>
</code></pre>
<ul>
<li><code>getTitle()</code>: devuelve el título de la nota.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-6">getTitle</span><span class="hl-1">(): </span><span class="hl-4">string</span><span class="hl-1"> { </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">title</span><span class="hl-1">; }</span>
</code></pre>
<ul>
<li><code>getBody()</code>: devuelve el cuerpo de la nota.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-6">getBody</span><span class="hl-1">(): </span><span class="hl-4">string</span><span class="hl-1"> { </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">body</span><span class="hl-1">; }</span>
</code></pre>
<ul>
<li><code>getColor()</code>: devuelve el color de la nota.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-6">getColor</span><span class="hl-1">(): </span><span class="hl-4">string</span><span class="hl-1"> { </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">color</span><span class="hl-1">; }</span>
</code></pre>
<p>A continuación, pasamos al fichero que podemos considerar como el principal ya que en él se desarrollaron todos los comandos de la aplicación.
Es fundamental destacar que se importaron varias librerias para el desarrollo de la aplicación:</p>
<ul>
<li><a href="https://www.npmjs.com/package/yargs">yargs</a></li>
<li><a href="https://www.npmjs.com/package/chalk">chalk</a></li>
<li><a href="https://nodejs.org/dist/latest-v18.x/docs/api/fs.html#synchronous-api">fs</a></li>
</ul>
<p>Pasando a los comandos desarrollados e implementados en la app son los siguientes:</p>
<ul>
<li><code>add</code>: permite al usuario crear una nueva nota.</li>
<li><code>list</code>: permite al usuario listar todas las notas existentes.</li>
<li><code>read</code>: permite al usuario leer una nota existente.</li>
<li><code>delete</code>: permite al usuario eliminar una nota existente.</li>
<li><code>edit</code>: permite al usuario editar una nota existente.</li>
</ul>
<p>En primer lugar se creó una función writeNote que permite escribir una nota en un fichero.</p>
<pre><code class="language-typescript"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-6">writeNote</span><span class="hl-1">(</span><span class="hl-4">user</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">, </span><span class="hl-4">title</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">, </span><span class="hl-4">body</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">, </span><span class="hl-4">color</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">): </span><span class="hl-3">void</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">if</span><span class="hl-1"> (!</span><span class="hl-4">fs</span><span class="hl-1">.</span><span class="hl-6">existsSync</span><span class="hl-1">(</span><span class="hl-7">`./src/Notas/</span><span class="hl-2">${</span><span class="hl-4">user</span><span class="hl-2">}</span><span class="hl-7">`</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-4">fs</span><span class="hl-1">.</span><span class="hl-6">mkdirSync</span><span class="hl-1">(</span><span class="hl-7">`./src/Notas/</span><span class="hl-2">${</span><span class="hl-4">user</span><span class="hl-2">}</span><span class="hl-7">`</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-4">fs</span><span class="hl-1">.</span><span class="hl-6">writeFile</span><span class="hl-1">(</span><span class="hl-7">`./src/Notas/</span><span class="hl-2">${</span><span class="hl-4">user</span><span class="hl-2">}</span><span class="hl-7">/</span><span class="hl-2">${</span><span class="hl-4">title</span><span class="hl-2">}</span><span class="hl-7">.json`</span><span class="hl-1">, </span><span class="hl-3">JSON</span><span class="hl-1">.</span><span class="hl-6">stringify</span><span class="hl-1">(</span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">Note</span><span class="hl-1">(</span><span class="hl-4">user</span><span class="hl-1">, </span><span class="hl-4">title</span><span class="hl-1">, </span><span class="hl-4">body</span><span class="hl-1">, </span><span class="hl-4">color</span><span class="hl-1">)), (</span><span class="hl-4">err</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">err</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-0">throw</span><span class="hl-1"> </span><span class="hl-4">err</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-6">green</span><span class="hl-1">(</span><span class="hl-7">&#39;Note created successfully&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Como se puede ver, lo primero que hace es comprobar si existe el directorio del usuario haciendo uso de la función <code>fs.existsSync</code>, en caso de que no exista se crea en la ruta <code>./src/Notas/</code> y haciendo uso de la función <code>fs.mkdirSync</code>.
Sucesivamente, se escribe la nota en el fichero con la función <code>fs.writeFile</code> y se muestra un mensaje de éxito en la consola. En caso de error se muestra un mensaje de error.</p>

<a href="#add" id="add" style="color: inherit; text-decoration: none;">
  <h2>ADD<a name="id3"></a></h2>
</a>
<p>Empezamos con los que son los comandos de la aplicación. El primero en el que se desarrolla es <code>add</code> que permite al usuario crear una nueva nota.</p>
<pre><code class="language-typescript"><span class="hl-4">yargs</span><span class="hl-1">.</span><span class="hl-6">command</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">command:</span><span class="hl-1"> </span><span class="hl-7">&#39;add&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-7">&#39;Add a new note&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">builder:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">user:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-7">&#39;The user of the note&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-7">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-4">title:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-7">&#39;The title of the note&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-7">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-4">body:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-7">&#39;The body of the note&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-7">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-4">color:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-7">&#39;The color of the note&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-7">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-6">handler</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">argv</span><span class="hl-1">: </span><span class="hl-3">any</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">typeof</span><span class="hl-1"> </span><span class="hl-4">argv</span><span class="hl-1">.</span><span class="hl-4">color</span><span class="hl-1"> === </span><span class="hl-7">&#39;string&#39;</span><span class="hl-1"> &amp;&amp; </span><span class="hl-2">typeof</span><span class="hl-1"> </span><span class="hl-4">argv</span><span class="hl-1">.</span><span class="hl-4">user</span><span class="hl-1"> === </span><span class="hl-7">&#39;string&#39;</span><span class="hl-1"> &amp;&amp; </span><span class="hl-2">typeof</span><span class="hl-1"> </span><span class="hl-4">argv</span><span class="hl-1">.</span><span class="hl-4">title</span><span class="hl-1"> === </span><span class="hl-7">&#39;string&#39;</span><span class="hl-1"> &amp;&amp; </span><span class="hl-2">typeof</span><span class="hl-1"> </span><span class="hl-4">argv</span><span class="hl-1">.</span><span class="hl-4">body</span><span class="hl-1"> === </span><span class="hl-7">&#39;string&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-6">writeNote</span><span class="hl-1">(</span><span class="hl-4">argv</span><span class="hl-1">.</span><span class="hl-4">user</span><span class="hl-1">, </span><span class="hl-4">argv</span><span class="hl-1">.</span><span class="hl-4">title</span><span class="hl-1">, </span><span class="hl-4">argv</span><span class="hl-1">.</span><span class="hl-4">body</span><span class="hl-1">, </span><span class="hl-4">argv</span><span class="hl-1">.</span><span class="hl-4">color</span><span class="hl-1">);</span><br/><span class="hl-1">    } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-6">red</span><span class="hl-1">(</span><span class="hl-7">&#39;Error: Invalid arguments&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span>
</code></pre>
<p>Lo primero que hace es obviamente, como en todos los comandos futuros, comprobar que los argumentos son correctos y en este caso se necesitarán todos los atributos de la clase Note.</p>
<p>Una vez en el handler, se comprueba si los argumentos tienen el formato correcto, en caso de que no se muestra un mensaje de error. En caso de que si se procede a escribir la nota en el fichero con la función <code>writeNote</code>, creada anteriormente.</p>

<a href="#list" id="list" style="color: inherit; text-decoration: none;">
  <h1>LIST<a name="id4"></a></h1>
</a>
<p>Pasamos al comando <code>list</code> que permite al usuario listar todas las notas existentes y que se desarrolla de la siguiente manera:</p>
<pre><code class="language-typescript"><span class="hl-4">yargs</span><span class="hl-1">.</span><span class="hl-6">command</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">command:</span><span class="hl-1"> </span><span class="hl-7">&#39;list&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-7">&#39;List all notes&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">builder:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">user:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-7">&#39;The user of the note&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-7">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-6">handler</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">argv</span><span class="hl-1">: </span><span class="hl-3">any</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">typeof</span><span class="hl-1"> </span><span class="hl-4">argv</span><span class="hl-1">.</span><span class="hl-4">user</span><span class="hl-1"> === </span><span class="hl-7">&#39;string&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-0">if</span><span class="hl-1"> (!</span><span class="hl-4">fs</span><span class="hl-1">.</span><span class="hl-6">existsSync</span><span class="hl-1">(</span><span class="hl-7">`./src/Notas/</span><span class="hl-2">${</span><span class="hl-4">argv</span><span class="hl-8">.</span><span class="hl-4">user</span><span class="hl-2">}</span><span class="hl-7">`</span><span class="hl-1">)) {</span><br/><span class="hl-1">        </span><span class="hl-4">fs</span><span class="hl-1">.</span><span class="hl-6">mkdirSync</span><span class="hl-1">(</span><span class="hl-7">`./src/Notas/</span><span class="hl-2">${</span><span class="hl-4">argv</span><span class="hl-8">.</span><span class="hl-4">user</span><span class="hl-2">}</span><span class="hl-7">`</span><span class="hl-1">);</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">      </span><span class="hl-4">fs</span><span class="hl-1">.</span><span class="hl-6">readdir</span><span class="hl-1">(</span><span class="hl-7">`./src/Notas/</span><span class="hl-2">${</span><span class="hl-4">argv</span><span class="hl-8">.</span><span class="hl-4">user</span><span class="hl-2">}</span><span class="hl-7">`</span><span class="hl-1">, (</span><span class="hl-4">err</span><span class="hl-1">, </span><span class="hl-4">files</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">err</span><span class="hl-1">) {</span><br/><span class="hl-1">          </span><span class="hl-0">throw</span><span class="hl-1"> </span><span class="hl-4">err</span><span class="hl-1">;</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">        </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-6">blue</span><span class="hl-1">(</span><span class="hl-7">&#39;Listing notes for user: &#39;</span><span class="hl-1"> + </span><span class="hl-4">argv</span><span class="hl-1">.</span><span class="hl-4">user</span><span class="hl-1">));</span><br/><span class="hl-1">        </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">files</span><span class="hl-1">.</span><span class="hl-4">length</span><span class="hl-1"> === </span><span class="hl-9">0</span><span class="hl-1">) {</span><br/><span class="hl-1">          </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-6">yellow</span><span class="hl-1">(</span><span class="hl-7">&#39;Empty list&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">        </span><span class="hl-4">files</span><span class="hl-1">.</span><span class="hl-6">forEach</span><span class="hl-1">((</span><span class="hl-4">file</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-4">fs</span><span class="hl-1">.</span><span class="hl-6">readFile</span><span class="hl-1">(</span><span class="hl-7">`./src/Notas/</span><span class="hl-2">${</span><span class="hl-4">argv</span><span class="hl-8">.</span><span class="hl-4">user</span><span class="hl-2">}</span><span class="hl-7">/</span><span class="hl-2">${</span><span class="hl-4">file</span><span class="hl-2">}</span><span class="hl-7">`</span><span class="hl-1">, </span><span class="hl-7">&#39;utf8&#39;</span><span class="hl-1">, (</span><span class="hl-4">err</span><span class="hl-1">, </span><span class="hl-4">data</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">err</span><span class="hl-1">) {</span><br/><span class="hl-1">              </span><span class="hl-0">throw</span><span class="hl-1"> </span><span class="hl-4">err</span><span class="hl-1">;</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">            </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-10">color</span><span class="hl-1"> = </span><span class="hl-3">JSON</span><span class="hl-1">.</span><span class="hl-6">parse</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">).</span><span class="hl-4">color</span><span class="hl-1">;</span><br/><span class="hl-1">            </span><span class="hl-0">switch</span><span class="hl-1"> (</span><span class="hl-4">color</span><span class="hl-1">) {</span><br/><span class="hl-1">              </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&#39;red&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">                </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-6">red</span><span class="hl-1">(</span><span class="hl-3">JSON</span><span class="hl-1">.</span><span class="hl-6">parse</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">).</span><span class="hl-4">title</span><span class="hl-1">));</span><br/><span class="hl-1">                </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">              </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&#39;green&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">                </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-6">green</span><span class="hl-1">(</span><span class="hl-3">JSON</span><span class="hl-1">.</span><span class="hl-6">parse</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">).</span><span class="hl-4">title</span><span class="hl-1">));</span><br/><span class="hl-1">                </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">              </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&#39;blue&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">                </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-6">blue</span><span class="hl-1">(</span><span class="hl-3">JSON</span><span class="hl-1">.</span><span class="hl-6">parse</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">).</span><span class="hl-4">title</span><span class="hl-1">));</span><br/><span class="hl-1">                </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">              </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&#39;yellow&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">                </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-6">yellow</span><span class="hl-1">(</span><span class="hl-3">JSON</span><span class="hl-1">.</span><span class="hl-6">parse</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">).</span><span class="hl-4">title</span><span class="hl-1">));</span><br/><span class="hl-1">                </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">              </span><span class="hl-0">default</span><span class="hl-1">:</span><br/><span class="hl-1">                </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-6">white</span><span class="hl-1">(</span><span class="hl-3">JSON</span><span class="hl-1">.</span><span class="hl-6">parse</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">).</span><span class="hl-4">title</span><span class="hl-1">));</span><br/><span class="hl-1">                </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">          });</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">      });</span><br/><span class="hl-1">    } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-6">red</span><span class="hl-1">(</span><span class="hl-7">&#39;Error: Invalid arguments&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span>
</code></pre>
<p>Lo primero es comprobar los argumentos, en este caso solo se necesita el atributo <code>user</code>.<br>En el handler, se comprueba si el usuario existe en el directorio de notas, en caso de que no se muestra un mensaje de error y, en caso de que si se procede a leer el directorio y mostrar todas las notas existentes.<br>Cabe resaltar que en el método de impresión de las notas se utiliza un switch para cambiar el color de la nota dependiendo del atributo <code>color</code> de ella y para el desarrollo de este comando se utilizaron los comandos <code>fs.readdir</code> y <code>fs.readFile</code> para leer el directorio y leer el fichero de la nota.</p>

<a href="#read" id="read" style="color: inherit; text-decoration: none;">
  <h2>READ<a name="id5"></a></h2>
</a>
<p>El comando <code>read</code> permite al usuario leer una nota existente correspondiente a su carpeta de notas. Los parámetros que se necesitan son el usuario y el título de la nota y que, por lo tanto son los atributos a comprobar. Se desarrolla de la siguiente manera:</p>
<pre><code class="language-typescript"><span class="hl-4">yargs</span><span class="hl-1">.</span><span class="hl-6">command</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">command:</span><span class="hl-1"> </span><span class="hl-7">&#39;read&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-7">&#39;Read a note&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">builder:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">user:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-7">&#39;The user of the note&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-7">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-4">title:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-7">&#39;The title of the note&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-7">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-6">handler</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">argv</span><span class="hl-1">: </span><span class="hl-3">any</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">typeof</span><span class="hl-1"> </span><span class="hl-4">argv</span><span class="hl-1">.</span><span class="hl-4">user</span><span class="hl-1"> === </span><span class="hl-7">&#39;string&#39;</span><span class="hl-1"> &amp;&amp; </span><span class="hl-2">typeof</span><span class="hl-1"> </span><span class="hl-4">argv</span><span class="hl-1">.</span><span class="hl-4">title</span><span class="hl-1"> === </span><span class="hl-7">&#39;string&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">fs</span><span class="hl-1">.</span><span class="hl-6">readFile</span><span class="hl-1">(</span><span class="hl-7">`./src/Notas/</span><span class="hl-2">${</span><span class="hl-4">argv</span><span class="hl-8">.</span><span class="hl-4">user</span><span class="hl-2">}</span><span class="hl-7">/</span><span class="hl-2">${</span><span class="hl-4">argv</span><span class="hl-8">.</span><span class="hl-4">title</span><span class="hl-2">}</span><span class="hl-7">.json`</span><span class="hl-1">, </span><span class="hl-7">&#39;utf8&#39;</span><span class="hl-1">, (</span><span class="hl-4">err</span><span class="hl-1">, </span><span class="hl-4">data</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">err</span><span class="hl-1">) {</span><br/><span class="hl-1">          </span><span class="hl-0">throw</span><span class="hl-1"> </span><span class="hl-4">err</span><span class="hl-1">;</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">        </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-10">color</span><span class="hl-1"> = </span><span class="hl-3">JSON</span><span class="hl-1">.</span><span class="hl-6">parse</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">).</span><span class="hl-4">color</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">switch</span><span class="hl-1"> (</span><span class="hl-4">color</span><span class="hl-1">) {</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&#39;red&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-6">red</span><span class="hl-1">(</span><span class="hl-3">JSON</span><span class="hl-1">.</span><span class="hl-6">parse</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">).</span><span class="hl-4">body</span><span class="hl-1">));</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&#39;green&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-6">green</span><span class="hl-1">(</span><span class="hl-3">JSON</span><span class="hl-1">.</span><span class="hl-6">parse</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">).</span><span class="hl-4">body</span><span class="hl-1">));</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&#39;blue&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-6">blue</span><span class="hl-1">(</span><span class="hl-3">JSON</span><span class="hl-1">.</span><span class="hl-6">parse</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">).</span><span class="hl-4">body</span><span class="hl-1">));</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&#39;yellow&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-6">yellow</span><span class="hl-1">(</span><span class="hl-3">JSON</span><span class="hl-1">.</span><span class="hl-6">parse</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">).</span><span class="hl-4">body</span><span class="hl-1">));</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">default</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-6">white</span><span class="hl-1">(</span><span class="hl-3">JSON</span><span class="hl-1">.</span><span class="hl-6">parse</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">).</span><span class="hl-4">body</span><span class="hl-1">));</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">      });</span><br/><span class="hl-1">    } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-6">red</span><span class="hl-1">(</span><span class="hl-7">&#39;Error: Invalid arguments&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span>
</code></pre>
<p>Una vez comprobados los argumentos, se procede a leer la nota correspondiente al usuario y al título. A continuación, haciendo uso del comando <code>fs.readFile</code> se lee el fichero de la nota en la ruta correspondiente. Si la lectura tuvo éxito se muestra el contenido de la nota en el color correspondiente a la nota, en caso contrario se muestra un mensaje de error.</p>

<a href="#delete" id="delete" style="color: inherit; text-decoration: none;">
  <h2>DELETE<a name="id6"></a></h2>
</a>
<p>El comando <code>delete</code> permite al usuario, como se puede deducir, eliminar una nota existente correspondiente a su carpeta de notas.</p>
<pre><code class="language-typescript"><span class="hl-4">yargs</span><span class="hl-1">.</span><span class="hl-6">command</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">command:</span><span class="hl-1"> </span><span class="hl-7">&#39;delete&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-7">&#39;Delete a note&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">builder:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">user:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-7">&#39;The user of the note&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-7">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-4">title:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-7">&#39;The title of the note&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-7">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-6">handler</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">argv</span><span class="hl-1">: </span><span class="hl-3">any</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">typeof</span><span class="hl-1"> </span><span class="hl-4">argv</span><span class="hl-1">.</span><span class="hl-4">user</span><span class="hl-1"> === </span><span class="hl-7">&#39;string&#39;</span><span class="hl-1"> &amp;&amp; </span><span class="hl-2">typeof</span><span class="hl-1"> </span><span class="hl-4">argv</span><span class="hl-1">.</span><span class="hl-4">title</span><span class="hl-1"> === </span><span class="hl-7">&#39;string&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">fs</span><span class="hl-1">.</span><span class="hl-6">unlink</span><span class="hl-1">(</span><span class="hl-7">`./src/Notas/</span><span class="hl-2">${</span><span class="hl-4">argv</span><span class="hl-8">.</span><span class="hl-4">user</span><span class="hl-2">}</span><span class="hl-7">/</span><span class="hl-2">${</span><span class="hl-4">argv</span><span class="hl-8">.</span><span class="hl-4">title</span><span class="hl-2">}</span><span class="hl-7">.json`</span><span class="hl-1">, (</span><span class="hl-4">err</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">err</span><span class="hl-1">) {</span><br/><span class="hl-1">          </span><span class="hl-0">throw</span><span class="hl-1"> </span><span class="hl-4">err</span><span class="hl-1">;</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">        </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-6">green</span><span class="hl-1">(</span><span class="hl-7">&#39;Note deleted successfully&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">      });</span><br/><span class="hl-1">    } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-6">red</span><span class="hl-1">(</span><span class="hl-7">&#39;Error: Invalid arguments&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span>
</code></pre>
<p>Una vez comprobados los argumentos, se procede a eliminar la nota correspondiente al usuario y al título. A continuación, haciendo uso del comando <code>fs.unlink</code> se elimina el fichero de la nota en la ruta correspondiente. Si la eliminación tuvo éxito se muestra un mensaje en verde, en caso contrario se muestra un mensaje de error.</p>

<a href="#edit" id="edit" style="color: inherit; text-decoration: none;">
  <h2>EDIT<a name="id7"></a></h2>
</a>
<p>El comando <code>edit</code> permite al usuario editar una nota existente correspondiente a su carpeta de notas. Los parámetros a necesitar son iguales a los atributos de la clase Note, por lo que se desarrolla de la siguiente manera:</p>
<pre><code class="language-typescript"><span class="hl-4">yargs</span><span class="hl-1">.</span><span class="hl-6">command</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">command:</span><span class="hl-1"> </span><span class="hl-7">&#39;edit&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-7">&#39;Edit a note&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">builder:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">user:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-7">&#39;The user of the note&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-7">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-4">title:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-7">&#39;The title of the note&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-7">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-4">body:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-7">&#39;The body of the note&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-7">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-4">color:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-7">&#39;The color of the note&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-7">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-6">handler</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">argv</span><span class="hl-1">: </span><span class="hl-3">any</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">typeof</span><span class="hl-1"> </span><span class="hl-4">argv</span><span class="hl-1">.</span><span class="hl-4">user</span><span class="hl-1"> === </span><span class="hl-7">&#39;string&#39;</span><span class="hl-1"> &amp;&amp; </span><span class="hl-2">typeof</span><span class="hl-1"> </span><span class="hl-4">argv</span><span class="hl-1">.</span><span class="hl-4">title</span><span class="hl-1"> === </span><span class="hl-7">&#39;string&#39;</span><span class="hl-1"> &amp;&amp; </span><span class="hl-2">typeof</span><span class="hl-1"> </span><span class="hl-4">argv</span><span class="hl-1">.</span><span class="hl-4">body</span><span class="hl-1"> === </span><span class="hl-7">&#39;string&#39;</span><span class="hl-1"> &amp;&amp; </span><span class="hl-2">typeof</span><span class="hl-1"> </span><span class="hl-4">argv</span><span class="hl-1">.</span><span class="hl-4">color</span><span class="hl-1"> === </span><span class="hl-7">&#39;string&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">fs</span><span class="hl-1">.</span><span class="hl-6">readFile</span><span class="hl-1">(</span><span class="hl-7">`./src/Notas/</span><span class="hl-2">${</span><span class="hl-4">argv</span><span class="hl-8">.</span><span class="hl-4">user</span><span class="hl-2">}</span><span class="hl-7">/</span><span class="hl-2">${</span><span class="hl-4">argv</span><span class="hl-8">.</span><span class="hl-4">title</span><span class="hl-2">}</span><span class="hl-7">.json`</span><span class="hl-1">, </span><span class="hl-7">&#39;utf8&#39;</span><span class="hl-1">, (</span><span class="hl-4">err</span><span class="hl-1">, </span><span class="hl-4">data</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">err</span><span class="hl-1">) {</span><br/><span class="hl-1">          </span><span class="hl-0">throw</span><span class="hl-1"> </span><span class="hl-4">err</span><span class="hl-1">;</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">        </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-10">note</span><span class="hl-1"> = </span><span class="hl-3">JSON</span><span class="hl-1">.</span><span class="hl-6">parse</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-4">note</span><span class="hl-1">.</span><span class="hl-4">body</span><span class="hl-1"> = </span><span class="hl-4">argv</span><span class="hl-1">.</span><span class="hl-4">body</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-4">note</span><span class="hl-1">.</span><span class="hl-4">color</span><span class="hl-1"> = </span><span class="hl-4">argv</span><span class="hl-1">.</span><span class="hl-4">color</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-4">fs</span><span class="hl-1">.</span><span class="hl-6">writeFile</span><span class="hl-1">(</span><span class="hl-7">`./src/Notas/</span><span class="hl-2">${</span><span class="hl-4">argv</span><span class="hl-8">.</span><span class="hl-4">user</span><span class="hl-2">}</span><span class="hl-7">/</span><span class="hl-2">${</span><span class="hl-4">argv</span><span class="hl-8">.</span><span class="hl-4">title</span><span class="hl-2">}</span><span class="hl-7">.json`</span><span class="hl-1">, </span><span class="hl-3">JSON</span><span class="hl-1">.</span><span class="hl-6">stringify</span><span class="hl-1">(</span><span class="hl-4">note</span><span class="hl-1">), (</span><span class="hl-4">err</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">err</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-0">throw</span><span class="hl-1"> </span><span class="hl-4">err</span><span class="hl-1">;</span><br/><span class="hl-1">          }</span><br/><span class="hl-1">          </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-6">green</span><span class="hl-1">(</span><span class="hl-7">&#39;Note edited successfully&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">      });</span><br/><span class="hl-1">    } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-6">red</span><span class="hl-1">(</span><span class="hl-7">&#39;Error: Invalid arguments&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span>
</code></pre>
<p>Comprobados los parámetros, se procede a leer la nota correspondiente al usuario y al título. A continuación, haciendo uso del comando <code>fs.readFile</code> se lee el fichero de la nota en la ruta correspondiente. Si la lectura tuvo éxito se procede a editar el contenido de la nota, en caso contrario se muestra un mensaje de error.
A la hora de editar la nota, se procede a guardar el nuevo contenido en el fichero correspondiente y haciendo uso del comando <code>fs.writeFile</code> se guarda el nuevo contenido en el fichero correspondiente. Si la escritura tuvo éxito se muestra un mensaje en verde, en caso contrario se muestra un mensaje de error.</p>

<a href="#conclusiones" id="conclusiones" style="color: inherit; text-decoration: none;">
  <h1>CONCLUSIONES<a name="id8"></a></h1>
</a>
<p>La práctica ha sido muy interesante para aprender a trabajar con el lenguaje asíncrono Node.js y haciendo uso de librerias que llegaron a manifestarse muy cómodas a la hora de desarrollar la aplicación como por ejemplo, yargs, fs, chalk, etc. Además, se pudo profundizar el tema del sistema de archivos y el manejo de errores.
Se intentó hacer una aplicación que permita al usuario crear, leer, listar, editar y eliminar notas, teniendo en cuenta que los usuarios no pueden conectarse simultáneamente a la aplicación.</p>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Modules</a></li><li class=" tsd-kind-module"><a href="modules/app.html">app</a></li><li class=" tsd-kind-module"><a href="modules/note.html">note</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>